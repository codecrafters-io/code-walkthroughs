[`ECHO`][redis-echo-command] is one of the simplest of all Redis commands. It returns the first argument back as a response. This 
command is often used to test if a connection is still alive, or to measure latency.

The function that handles the `ECHO` command is [`echoCommand`][function-echoCommand]:

^^ referenced_code
link:https://github.com/redis/redis/blob/4505eb18213c8da31c6dd39ba7cd36d3d01141a5/src/server.c#L4306
```c
void echoCommand(client *c) {
    addReplyBulk(c,c->argv[1]);
}
```

As expected, the implementation here is super simple - it just returns the first argument back as a response.

The "Bulk" in `addReplyBulk` refers to ["Bulk Strings"][redis-protocol-bulk-strings], which is one the data types 
supported in the [Redis protocol][redis-protocol].

# Command Table

We've seen how the `echoCommand` function works, but how does it get called in the first place?

Definitions for all Redis commands are stored in [src/commands.c][file-src-commands-c]. 

^^ referenced_code
link:https://github.com/redis/redis/blob/82b82035553cdbaf81983f91e0402edc8de764ab/src/commands.c#L7184
highlighted_lines:8
```c
/* Main command table */
struct redisCommand redisCommandTable[] = {
    // ...

    /* connection */
    {"auth","Authenticate to the server","O(N) where N is the number of passwords defined for the user","1.0.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,AUTH_History,AUTH_tips,authCommand,-2,CMD_NOSCRIPT|CMD_LOADING|CMD_STALE|CMD_FAST|CMD_NO_AUTH|CMD_SENTINEL|CMD_ALLOW_BUSY,ACL_CATEGORY_CONNECTION,.args=AUTH_Args},
    {"client","A container for client connection commands","Depends on subcommand.","2.4.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,CLIENT_History,CLIENT_tips,NULL,-2,CMD_SENTINEL,0,.subcommands=CLIENT_Subcommands},
    {"echo","Echo the given string","O(1)","1.0.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,ECHO_History,ECHO_tips,echoCommand,2,CMD_LOADING|CMD_STALE|CMD_FAST,ACL_CATEGORY_CONNECTION,.args=ECHO_Args},
    {"hello","Handshake with Redis","O(1)","6.0.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,HELLO_History,HELLO_tips,helloCommand,-1,CMD_NOSCRIPT|CMD_LOADING|CMD_STALE|CMD_FAST|CMD_NO_AUTH|CMD_SENTINEL|CMD_ALLOW_BUSY,ACL_CATEGORY_CONNECTION,.args=HELLO_Args},
    {"ping","Ping the server","O(1)","1.0.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,PING_History,PING_tips,pingCommand,-1,CMD_FAST|CMD_SENTINEL,ACL_CATEGORY_CONNECTION,.args=PING_Args},
    {"quit","Close the connection","O(1)","1.0.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,QUIT_History,QUIT_tips,quitCommand,-1,CMD_ALLOW_BUSY|CMD_NOSCRIPT|CMD_LOADING|CMD_STALE|CMD_FAST|CMD_NO_AUTH,ACL_CATEGORY_CONNECTION},
    {"reset","Reset the connection","O(1)","6.2.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,RESET_History,RESET_tips,resetCommand,1,CMD_NOSCRIPT|CMD_LOADING|CMD_STALE|CMD_FAST|CMD_NO_AUTH|CMD_ALLOW_BUSY,ACL_CATEGORY_CONNECTION},
    {"select","Change the selected database for the current connection","O(1)","1.0.0",CMD_DOC_NONE,NULL,NULL,COMMAND_GROUP_CONNECTION,SELECT_History,SELECT_tips,selectCommand,2,CMD_LOADING|CMD_STALE|CMD_FAST,ACL_CATEGORY_CONNECTION,.args=SELECT_Args}

    // ...
}
```

[src/commands.c][file-src-commands-c] is a **huge** file - almost 7,500 lines long. For each command, it stores details 
like the name of the command, how many arguments it takes and which function implements the command. 

This file is machine-generated by the [`utils/generate-command-code.py`][file-utils-generate-command-code] script. The 
script takes files like [`src/commands/echo.json`][file-src-commands-echo-json] as input:

^^ referenced_code
link:https://github.com/redis/redis/blob/82b82035553cdbaf81983f91e0402edc8de764ab/src/commands/echo.json
highlighted_lines:8
```c
{
    "ECHO": {
        "summary": "Echo the given string",
        "complexity": "O(1)",
        "group": "connection",
        "since": "1.0.0",
        "arity": 2,
        "function": "echoCommand",
        "command_flags": [
            "LOADING",
            "STALE",
            "FAST"
        ],
        "acl_categories": [
            "CONNECTION"
        ],
        "arguments": [
            {
                "name": "message",
                "type": "string"
            }
        ]
    }
}
```

[redis-echo-command]: https://redis.io/commands/echo
[file-utils-generate-command-code]: https://github.com/redis/redis/blob/82b82035553cdbaf81983f91e0402edc8de764ab/utils/generate-command-code.py
[file-src-commands-echo-json]: https://github.com/redis/redis/blob/82b82035553cdbaf81983f91e0402edc8de764ab/src/commands/echo.json
[file-src-commands-c]: https://github.com/redis/redis/blob/82b82035553cdbaf81983f91e0402edc8de764ab/src/commands.c
[function-echoCommand]: https://github.com/redis/redis/blob/4505eb18213c8da31c6dd39ba7cd36d3d01141a5/src/server.c#L4306
[redis-protocol]: https://redis.io/docs/reference/protocol-spec/
[redis-protocol-bulk-strings]: https://redis.io/docs/reference/protocol-spec/#resp-bulk-strings
